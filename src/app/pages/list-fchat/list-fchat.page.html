<ion-header [translucent]="true"></ion-header>

<ion-content class="ion-padding">
  <div style="
  background-color: white;
  overflow: hidden;
  border-radius: 6px;
  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 1px -2px, rgba(0, 0, 0, 0.14) 0px 2px 2px 0px, rgba(0, 0, 0, 0.12) 0px 1px 5px 0px;
  -webkit-box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 1px -2px, rgba(0, 0, 0, 0.14) 0px 2px 2px 0px, rgba(0, 0, 0, 0.12) 0px 1px 5px 0px;
  display: flex; flex-direction: column; justify-content: flex-end; align-content: flex-end;
  ">
  <ion-list *ngFor="let mensaje of mensajes" lines="full">
    <ion-item style="cursor: pointer;" (click)="mensaje.expanded = !mensaje.expanded">
      <ion-icon name="person-circle-outline" slot="start"></ion-icon>
      <ion-label>
        <ion-title>Mensaje de: {{ mensaje.remitente }}</ion-title>
      </ion-label>
    </ion-item>
    <ion-item *ngIf="mensaje.expanded" class="mensaje-detalles">
      <ion-card style="width:100%;">
        <ion-card-header>
          <ion-card-title>{{ mensaje.asunto }}</ion-card-title>
          <ion-card-subtitle>{{ mensaje.timestamp | date:'short' }}</ion-card-subtitle>
        </ion-card-header>
        <ion-card-content style="font-size: 21px;">
          {{ mensaje.mensaje }}
        </ion-card-content>
        <ion-card-content>
        <ion-button (click)="deleteMensaje(mensaje.id_chat)">Borrar mensaje</ion-button>
      </ion-card-content>
      </ion-card>
    </ion-item>
  </ion-list>

</div>
</ion-content>

<app-tab></app-tab>